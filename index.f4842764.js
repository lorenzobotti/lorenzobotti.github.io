function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequire12fb;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequire12fb=r),r.register("kjyEk",(function(e,t){}));const i=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(.\d{3}\w)?$/;function a(e,t){return"string"==typeof t&&i.test(t)?new Date(t):t}function l(e){const t=s(),n=function(){localStorage.id||(localStorage.id="0");const e=parseInt(localStorage.id);return localStorage.id=(e+1).toString(),e.toString()}();return t[n]=e,c(t),n}function u(e){const t=s();delete t[e],c(t)}function s(){return localStorage.expenses||(localStorage.expenses=JSON.stringify({})),e=localStorage.expenses,JSON.parse(e,a);var e}function c(e){return localStorage.expenses=JSON.stringify(e)}var d,f={};
/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
f=function(e){var t,n=String.prototype.split,o=/()??/.exec("")[1]===e;return t=function(t,r,i){if("[object RegExp]"!==Object.prototype.toString.call(r))return n.call(t,r,i);var a,l,u,s,c=[],d=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),f=0;r=new RegExp(r.source,d+"g");for(t+="",o||(a=new RegExp("^"+r.source+"$(?!\\s)",d)),i=i===e?4294967295:i>>>0;(l=r.exec(t))&&!((u=l.index+l[0].length)>f&&(c.push(t.slice(f,l.index)),!o&&l.length>1&&l[0].replace(a,(function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(l[t]=e)})),l.length>1&&l.index<t.length&&Array.prototype.push.apply(c,l.slice(1)),s=l[0].length,f=u,c.length>=i));)r.lastIndex===l.index&&r.lastIndex++;return f===t.length?!s&&r.test("")||c.push(""):c.push(t.slice(f)),c.length>i?c.slice(0,i):c},t}();var p,g={},m=[].indexOf;function y(e){return!!e}p=function(e,t){if(m)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},g=function(e){var t=e.classList;if(t)return t;var n={add:o,remove:r,contains:i,toggle:function(e){return i(e)?(r(e),!1):(o(e),!0)},toString:function(){return e.className},length:0,item:function(e){return a()[e]||null}};return n;function o(e){var t=a();p(t,e)>-1||(t.push(e),l(t))}function r(e){var t=a(),n=p(t,e);-1!==n&&(t.splice(n,1),l(t))}function i(e){return p(a(),e)>-1}function a(){return function(e,t){for(var n=[],o=0;o<e.length;o++)t(e[o])&&n.push(e[o]);return n}(e.className.split(" "),y)}function l(t){var o=t.length;e.className=t.join(" "),n.length=o;for(var r=0;r<t.length;r++)n[r]=t[r];delete t[o]}};var h="undefined"==typeof window?r("kjyEk"):window,v=h.document,x=h.Text;function E(){var e=[];function t(){var t=[].slice.call(arguments),n=null;function o(t){var r,i;if(null==t);else if("string"==typeof t)n?n.appendChild(r=v.createTextNode(t)):(i=f(t,/([\.#]?[^\s#.]+)/),/^\.|#/.test(i[1])&&(n=v.createElement("div")),S(i,(function(e){var t=e.substring(1,e.length);e&&(n?"."===e[0]?g(n).add(t):"#"===e[0]&&n.setAttribute("id",t):n=v.createElement(e))})));else if("number"==typeof t||"boolean"==typeof t||t instanceof Date||t instanceof RegExp)n.appendChild(r=v.createTextNode(t.toString()));else if(C(t))S(t,o);else if(b(t))n.appendChild(r=t);else if(t instanceof x)n.appendChild(r=t);else if("object"==typeof t)for(var a in t)if("function"==typeof t[a])/^on\w+/.test(a)?function(t,o){n.addEventListener?(n.addEventListener(t.substring(2),o[t],!1),e.push((function(){n.removeEventListener(t.substring(2),o[t],!1)}))):(n.attachEvent(t,o[t]),e.push((function(){n.detachEvent(t,o[t])})))}(a,t):(n[a]=t[a](),e.push(t[a]((function(e){n[a]=e}))));else if("style"===a)if("string"==typeof t[a])n.style.cssText=t[a];else for(var l in t[a])!function(o,r){if("function"==typeof r)n.style.setProperty(o,r()),e.push(r((function(e){n.style.setProperty(o,e)})));else var i=t[a][o].match(/(.*)\W+!important\W*$/);i?n.style.setProperty(o,i[1],"important"):n.style.setProperty(o,t[a][o])}(l,t[a][l]);else if("attrs"===a)for(var u in t[a])n.setAttribute(u,t[a][u]);else"data-"===a.substr(0,5)?n.setAttribute(a,t[a]):n[a]=t[a];else if("function"==typeof t){u=t();n.appendChild(r=b(u)?u:v.createTextNode(u)),e.push(t((function(e){b(e)&&r.parentElement?(r.parentElement.replaceChild(e,r),r=e):r.textContent=e})))}return r}for(;t.length;)o(t.shift());return n}return t.cleanup=function(){for(var t=0;t<e.length;t++)e[t]();e.length=0},t}function b(e){return e&&e.nodeName&&e.nodeType}function S(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}function C(e){return"[object Array]"==Object.prototype.toString.call(e)}function O(e){return`${e.getFullYear()}-${T(e.getMonth(),2)}-${T(e.getDate(),2)}`}function T(e,t){let n=e.toString();for(;n.length<t;)n="0"+n;return n}(d=E()).context=E;const w={typeToggle:document.getElementById("exp-type"),typeToggleOut:document.getElementById("exp-type-out"),to:document.getElementById("to"),from:document.getElementById("from"),reason:document.getElementById("reason"),amount:document.getElementById("amount"),list:document.getElementById("list"),table:document.getElementById("table"),add:document.getElementById("add"),form:document.getElementById("expense-form"),spentOut:document.getElementById("spent-out"),receivedOut:document.getElementById("received-out"),balanceOut:document.getElementById("balance-out")},I={outgoing:w.typeToggle.checked};function $(){w.list.innerHTML="",w.table.innerHTML="";let t=0,n=0;const o=e(d)("tr",e(d)("th","date"),e(d)("th","type"),e(d)("th","to/from"),e(d)("th","amount"),e(d)("th","reason"));w.table.appendChild(o);const r=function(){const e=s();return Object.keys(e).map((t=>({id:t,...e[t]}))).sort(((e,t)=>e.date<t.date?-1:1))}();console.log({expenses:r});for(const o of r){const r=document.createElement("li"),i="me"===o.from;r.textContent=i?`spent €${o.amount} for ${o.reason} at ${o.to} on ${O(o.date)} - `:`received €${o.amount} for ${o.reason} from ${o.from} on ${O(o.date)} - `,i?t+=o.amount:n+=o.amount;const a=document.createElement("a");a.textContent="delete",a.addEventListener("click",(()=>{u(o.id),$()})),r.appendChild(a),w.list.appendChild(r);const l=e(d)("tr",e(d)("td",O(o.date)),e(d)("td",i?"spent":"received"),e(d)("td",i?o.to:o.from),e(d)("td",`€${o.amount}`),e(d)("td",o.reason));w.table.appendChild(l)}w.spentOut.textContent=t.toString(),w.receivedOut.textContent=n.toString(),w.balanceOut.textContent=(n-t).toString()}function B(){w.add.disabled=""==w.from.value||""==w.to.value||""==w.reason.value||""==w.amount.value}w.typeToggle.addEventListener("input",(e=>{e.preventDefault(),w.typeToggleOut.textContent=w.typeToggle.checked?"expense":"earning",I.outgoing=w.typeToggle.checked;const t=I.outgoing?w.from:w.to,n=I.outgoing?w.to:w.from;n.value=t.value,n.disabled=!1,t.value="me",t.disabled=!0,console.log(w),console.log(I)})),w.form.addEventListener("submit",(e=>e.preventDefault())),w.add.addEventListener("click",(()=>{l({from:w.from.value,to:w.to.value,reason:w.reason.value,amount:parseFloat(w.amount.value),date:new Date}),$()})),$(),B();[w.from,w.to,w.reason,w.amount].forEach((e=>e.addEventListener("input",(()=>B()))));
//# sourceMappingURL=index.f4842764.js.map
