{"mappings":"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","sources":["src/json_date.ts","src/storage.ts","node_modules/browser-split/index.js","node_modules/indexof/index.js","node_modules/class-list/index.js","node_modules/hyperscript/index.js","src/utils.ts","src/main.ts"],"sourcesContent":["export function deserializeDates(data: string): any {\n    return JSON.parse(data, reviveDateTime);\n}\n\nconst dateRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(.\\d{3}\\w)?$/\nfunction reviveDateTime(key: any, value: any): any {\n    if (typeof value === 'string') {\n        if (dateRegex.test(value)) {\n            return new Date(value);\n        }\n    }\n\n    return value;\n}","import { Expense } from \"./expense\"\nimport { deserializeDates } from \"./json_date\"\n\ntype ExpenseDB = { [key: string]: Expense }\ninterface SavedExpense extends Expense {\n    id: string,\n}\n\nfunction getId(): string {\n    if (!localStorage['id']) {\n        localStorage['id'] = '0'\n    }\n\n    const id = parseInt(localStorage['id'])\n    localStorage['id'] = (id + 1).toString()\n\n    return id.toString()\n}\n\nexport function saveExpense(exp: Expense): string {\n    const expenses = loadExpenses()\n    const id = getId()\n\n    expenses[id] = exp\n    saveExpenses(expenses)\n\n    return id\n}\n\nexport function editExpense(id: string, exp: Expense) {\n    const exps = loadExpenses()\n    exps[id] = exp\n    saveExpenses(exps)\n}\n\nexport function deleteExpense(id: string) {\n    const exps = loadExpenses()\n    delete exps[id]\n    saveExpenses(exps)\n}\n\nexport function getExpense(id: string): SavedExpense | undefined {\n    const exps = loadExpenses()\n    return { id, ...exps[id] }\n}\n\nexport function getExpenses(): SavedExpense[] {\n    const exps = loadExpenses()\n    return Object.keys(exps).map(id => {\n        const exp = exps[id]\n        return { id, ...exp }\n    }).sort((a, b) => a.date < b.date ? -1 : 1)\n}\n\nfunction loadExpenses(): ExpenseDB {\n    initExpenseStorage()\n    return deserializeDates(localStorage['expenses']) as ExpenseDB\n}\n\nfunction saveExpenses(exps: ExpenseDB) {\n    return localStorage['expenses'] = JSON.stringify(exps)\n}\n\nfunction initExpenseStorage() {\n    if (!localStorage['expenses']) {\n        localStorage['expenses'] = JSON.stringify({})\n    }\n}","/*!\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n * ECMAScript compliant, uniform cross-browser split method\n */\n\n/**\n * Splits a string into an array of strings using a regex or string separator. Matches of the\n * separator are not included in the result array. However, if `separator` is a regex that contains\n * capturing groups, backreferences are spliced into the result each time `separator` is matched.\n * Fixes browser bugs compared to the native `String.prototype.split` and can be used reliably\n * cross-browser.\n * @param {String} str String to split.\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {Array} Array of substrings.\n * @example\n *\n * // Basic use\n * split('a b c d', ' ');\n * // -> ['a', 'b', 'c', 'd']\n *\n * // With limit\n * split('a b c d', ' ', 2);\n * // -> ['a', 'b']\n *\n * // Backreferences in result array\n * split('..word1 word2..', /([a-z]+)(\\d+)/i);\n * // -> ['..', 'word', '1', ' ', 'word', '2', '..']\n */\nmodule.exports = (function split(undef) {\n\n  var nativeSplit = String.prototype.split,\n    compliantExecNpcg = /()??/.exec(\"\")[1] === undef,\n    // NPCG: nonparticipating capturing group\n    self;\n\n  self = function(str, separator, limit) {\n    // If `separator` is not a regex, use `nativeSplit`\n    if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n      return nativeSplit.call(str, separator, limit);\n    }\n    var output = [],\n      flags = (separator.ignoreCase ? \"i\" : \"\") + (separator.multiline ? \"m\" : \"\") + (separator.extended ? \"x\" : \"\") + // Proposed for ES6\n      (separator.sticky ? \"y\" : \"\"),\n      // Firefox 3+\n      lastLastIndex = 0,\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      separator = new RegExp(separator.source, flags + \"g\"),\n      separator2, match, lastIndex, lastLength;\n    str += \"\"; // Type-convert\n    if (!compliantExecNpcg) {\n      // Doesn't need flags gy, but they don't hurt\n      separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n    }\n    /* Values for `limit`, per the spec:\n     * If undefined: 4294967295 // Math.pow(2, 32) - 1\n     * If 0, Infinity, or NaN: 0\n     * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n     * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n     * If other: Type-convert, then use the above rules\n     */\n    limit = limit === undef ? -1 >>> 0 : // Math.pow(2, 32) - 1\n    limit >>> 0; // ToUint32(limit)\n    while (match = separator.exec(str)) {\n      // `separator.lastIndex` is not reliable cross-browser\n      lastIndex = match.index + match[0].length;\n      if (lastIndex > lastLastIndex) {\n        output.push(str.slice(lastLastIndex, match.index));\n        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n        // nonparticipating capturing groups\n        if (!compliantExecNpcg && match.length > 1) {\n          match[0].replace(separator2, function() {\n            for (var i = 1; i < arguments.length - 2; i++) {\n              if (arguments[i] === undef) {\n                match[i] = undef;\n              }\n            }\n          });\n        }\n        if (match.length > 1 && match.index < str.length) {\n          Array.prototype.push.apply(output, match.slice(1));\n        }\n        lastLength = match[0].length;\n        lastLastIndex = lastIndex;\n        if (output.length >= limit) {\n          break;\n        }\n      }\n      if (separator.lastIndex === match.index) {\n        separator.lastIndex++; // Avoid an infinite loop\n      }\n    }\n    if (lastLastIndex === str.length) {\n      if (lastLength || !separator.test(\"\")) {\n        output.push(\"\");\n      }\n    } else {\n      output.push(str.slice(lastLastIndex));\n    }\n    return output.length > limit ? output.slice(0, limit) : output;\n  };\n\n  return self;\n})();\n","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","// contains, add, remove, toggle\nvar indexof = require('indexof')\n\nmodule.exports = ClassList\n\nfunction ClassList(elem) {\n    var cl = elem.classList\n\n    if (cl) {\n        return cl\n    }\n\n    var classList = {\n        add: add\n        , remove: remove\n        , contains: contains\n        , toggle: toggle\n        , toString: $toString\n        , length: 0\n        , item: item\n    }\n\n    return classList\n\n    function add(token) {\n        var list = getTokens()\n        if (indexof(list, token) > -1) {\n            return\n        }\n        list.push(token)\n        setTokens(list)\n    }\n\n    function remove(token) {\n        var list = getTokens()\n            , index = indexof(list, token)\n\n        if (index === -1) {\n            return\n        }\n\n        list.splice(index, 1)\n        setTokens(list)\n    }\n\n    function contains(token) {\n        return indexof(getTokens(), token) > -1\n    }\n\n    function toggle(token) {\n        if (contains(token)) {\n            remove(token)\n            return false\n        } else {\n            add(token)\n            return true\n        }\n    }\n\n    function $toString() {\n        return elem.className\n    }\n\n    function item(index) {\n        var tokens = getTokens()\n        return tokens[index] || null\n    }\n\n    function getTokens() {\n        var className = elem.className\n\n        return filter(className.split(\" \"), isTruthy)\n    }\n\n    function setTokens(list) {\n        var length = list.length\n\n        elem.className = list.join(\" \")\n        classList.length = length\n\n        for (var i = 0; i < list.length; i++) {\n            classList[i] = list[i]\n        }\n\n        delete list[length]\n    }\n}\n\nfunction filter (arr, fn) {\n    var ret = []\n    for (var i = 0; i < arr.length; i++) {\n        if (fn(arr[i])) ret.push(arr[i])\n    }\n    return ret\n}\n\nfunction isTruthy(value) {\n    return !!value\n}\n","var split = require('browser-split')\nvar ClassList = require('class-list')\n\nvar w = typeof window === 'undefined' ? require('html-element') : window\nvar document = w.document\nvar Text = w.Text\n\nfunction context () {\n\n  var cleanupFuncs = []\n\n  function h() {\n    var args = [].slice.call(arguments), e = null\n    function item (l) {\n      var r\n      function parseClass (string) {\n        // Our minimal parser doesn’t understand escaping CSS special\n        // characters like `#`. Don’t use them. More reading:\n        // https://mathiasbynens.be/notes/css-escapes .\n\n        var m = split(string, /([\\.#]?[^\\s#.]+)/)\n        if(/^\\.|#/.test(m[1]))\n          e = document.createElement('div')\n        forEach(m, function (v) {\n          var s = v.substring(1,v.length)\n          if(!v) return\n          if(!e)\n            e = document.createElement(v)\n          else if (v[0] === '.')\n            ClassList(e).add(s)\n          else if (v[0] === '#')\n            e.setAttribute('id', s)\n        })\n      }\n\n      if(l == null)\n        ;\n      else if('string' === typeof l) {\n        if(!e)\n          parseClass(l)\n        else\n          e.appendChild(r = document.createTextNode(l))\n      }\n      else if('number' === typeof l\n        || 'boolean' === typeof l\n        || l instanceof Date\n        || l instanceof RegExp ) {\n          e.appendChild(r = document.createTextNode(l.toString()))\n      }\n      //there might be a better way to handle this...\n      else if (isArray(l))\n        forEach(l, item)\n      else if(isNode(l))\n        e.appendChild(r = l)\n      else if(l instanceof Text)\n        e.appendChild(r = l)\n      else if ('object' === typeof l) {\n        for (var k in l) {\n          if('function' === typeof l[k]) {\n            if(/^on\\w+/.test(k)) {\n              (function (k, l) { // capture k, l in the closure\n                if (e.addEventListener){\n                  e.addEventListener(k.substring(2), l[k], false)\n                  cleanupFuncs.push(function(){\n                    e.removeEventListener(k.substring(2), l[k], false)\n                  })\n                }else{\n                  e.attachEvent(k, l[k])\n                  cleanupFuncs.push(function(){\n                    e.detachEvent(k, l[k])\n                  })\n                }\n              })(k, l)\n            } else {\n              // observable\n              e[k] = l[k]()\n              cleanupFuncs.push(l[k](function (v) {\n                e[k] = v\n              }))\n            }\n          }\n          else if(k === 'style') {\n            if('string' === typeof l[k]) {\n              e.style.cssText = l[k]\n            }else{\n              for (var s in l[k]) (function(s, v) {\n                if('function' === typeof v) {\n                  // observable\n                  e.style.setProperty(s, v())\n                  cleanupFuncs.push(v(function (val) {\n                    e.style.setProperty(s, val)\n                  }))\n                } else\n                  var match = l[k][s].match(/(.*)\\W+!important\\W*$/);\n                  if (match) {\n                    e.style.setProperty(s, match[1], 'important')\n                  } else {\n                    e.style.setProperty(s, l[k][s])\n                  }\n              })(s, l[k][s])\n            }\n          } else if(k === 'attrs') {\n            for (var v in l[k]) {\n              e.setAttribute(v, l[k][v])\n            }\n          }\n          else if (k.substr(0, 5) === \"data-\") {\n            e.setAttribute(k, l[k])\n          } else {\n            e[k] = l[k]\n          }\n        }\n      } else if ('function' === typeof l) {\n        //assume it's an observable!\n        var v = l()\n        e.appendChild(r = isNode(v) ? v : document.createTextNode(v))\n\n        cleanupFuncs.push(l(function (v) {\n          if(isNode(v) && r.parentElement)\n            r.parentElement.replaceChild(v, r), r = v\n          else\n            r.textContent = v\n        }))\n      }\n\n      return r\n    }\n    while(args.length)\n      item(args.shift())\n\n    return e\n  }\n\n  h.cleanup = function () {\n    for (var i = 0; i < cleanupFuncs.length; i++){\n      cleanupFuncs[i]()\n    }\n    cleanupFuncs.length = 0\n  }\n\n  return h\n}\n\nvar h = module.exports = context()\nh.context = context\n\nfunction isNode (el) {\n  return el && el.nodeName && el.nodeType\n}\n\nfunction forEach (arr, fn) {\n  if (arr.forEach) return arr.forEach(fn)\n  for (var i = 0; i < arr.length; i++) fn(arr[i], i)\n}\n\nfunction isArray (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]'\n}\n\n\n","export function prettyDate(d: Date): string {\n    return `${d.getFullYear()}-${pad(d.getMonth(), 2)}-${pad(d.getDate(), 2)}`\n}\n\nfunction pad(num: number, size: number) {\n    let str = num.toString();\n    while (str.length < size) str = \"0\" + str;\n    return str;\n}","import { Expense } from \"./expense\"\nimport { deleteExpense, getExpenses, saveExpense } from \"./storage\"\nimport h from 'hyperscript'\nimport { prettyDate } from \"./utils\"\n\nconst inputs = {\n    typeToggle: document.getElementById('exp-type') as HTMLInputElement,\n    typeToggleOut: document.getElementById('exp-type-out') as HTMLSpanElement,\n    to: document.getElementById('to') as HTMLInputElement,\n    from: document.getElementById('from') as HTMLInputElement,\n    reason: document.getElementById('reason') as HTMLInputElement,\n    amount: document.getElementById('amount') as HTMLInputElement,\n\n    list: document.getElementById('list') as HTMLUListElement,\n    table: document.getElementById('table') as HTMLTableElement,\n    add: document.getElementById('add') as HTMLButtonElement,\n    form: document.getElementById('expense-form') as HTMLFormElement,\n\n    spentOut: document.getElementById('spent-out') as HTMLSpanElement,\n    receivedOut: document.getElementById('received-out') as HTMLSpanElement,\n    balanceOut: document.getElementById('balance-out') as HTMLSpanElement,\n}\n\nconst formState = {\n    outgoing: inputs.typeToggle.checked,\n}\n\ninputs.typeToggle.addEventListener('input', event => {\n    event.preventDefault()\n\n    inputs.typeToggleOut.textContent = inputs.typeToggle.checked ? 'expense' : 'earning'\n    formState.outgoing = inputs.typeToggle.checked\n\n    const me = formState.outgoing ? inputs.from : inputs.to\n    const receiver = formState.outgoing ? inputs.to : inputs.from\n\n    receiver.value = me.value\n    receiver.disabled = false\n    \n    me.value = 'me'\n    me.disabled = true\n\n\n    console.log(inputs)\n    console.log(formState)\n})\n\ninputs.form.addEventListener('submit', e => e.preventDefault())\n\ninputs.add.addEventListener('click', () => {\n    const exp: Expense = {\n        from: inputs.from.value,\n        to: inputs.to.value,\n        reason: inputs.reason.value,\n        amount: parseFloat(inputs.amount.value),\n        date: new Date(),\n    }\n\n    saveExpense(exp)\n    listExpenses()\n})\n\nlistExpenses()\nfunction listExpenses() {\n    inputs.list.innerHTML = ''\n    inputs.table.innerHTML = ''\n\n    let moneySpent  = 0\n    let moneyReceived  = 0\n\n    // const heading = h('tr', '', \n    //     h('th', 'spent/received'),\n    //     h('th', 'to/from'),\n    //     h('th', 'amount'),\n    //     h('th', 'reason'),\n    // )\n    // inputs.table.appendChild(heading)\n\n    const heading = h('tr',\n        h('th', 'date'),\n        h('th', 'type'),\n        h('th', 'to/from'),\n        h('th', 'amount'),\n        h('th', 'reason'),\n    )\n    inputs.table.appendChild(heading)\n\n    const expenses = getExpenses()\n    console.log({ expenses })\n\n    for (const exp of expenses) {\n        const item = document.createElement('li')\n        const spent = exp.from === 'me'\n\n        if (spent) {\n            item.textContent = `spent €${exp.amount} for ${exp.reason} at ${exp.to} on ${prettyDate(exp.date)} - `\n        } else {\n            item.textContent = `received €${exp.amount} for ${exp.reason} from ${exp.from} on ${prettyDate(exp.date)} - `\n        }\n        if (spent) {\n            moneySpent += exp.amount\n        } else {\n            moneyReceived += exp.amount\n        }\n\n        const deleteLink = document.createElement('a')\n        deleteLink.textContent = 'delete'\n        deleteLink.addEventListener('click', () => {\n            deleteExpense(exp.id)\n            listExpenses()\n        })\n\n        item.appendChild(deleteLink)\n        inputs.list.appendChild(item)\n\n        const row = h('tr',\n            h('td', prettyDate(exp.date)),\n            h('td', spent ? 'spent' : 'received'),\n            h('td', spent ? exp.to : exp.from),\n            h('td', `€${exp.amount}`),\n            h('td', exp.reason),\n        )\n        inputs.table.appendChild(row)\n    }\n\n    inputs.spentOut.textContent = moneySpent.toString()\n    inputs.receivedOut.textContent = moneyReceived.toString()\n    inputs.balanceOut.textContent = (moneyReceived - moneySpent).toString()\n}\n\n// function h<K extends keyof HTMLElementTagNameMap>(elem: K, content?: string, ...children: HTMLElement[]): HTMLElementTagNameMap[K] {\n//     const el = document.createElement(elem)\n//     if (content) {\n//         el.textContent = content\n//     }\n\n//     if (children) {\n//         for (const child of children) {\n//             el.appendChild(child)\n//         }\n//     }\n\n//     return el\n// }\n\nallowSend()\nfunction allowSend() {\n    inputs.add.disabled = inputs.from.value == ''\n        || inputs.to.value == '' \n        || inputs.reason.value == '' \n        || inputs.amount.value == '' \n}\n\nconst formInputs = [inputs.from, inputs.to, inputs.reason, inputs.amount]\nformInputs.forEach(i => i.addEventListener('input', () => allowSend()))"],"names":["$ab08672adf4d2d87$var$dateRegex","$ab08672adf4d2d87$var$reviveDateTime","key","value","test","Date","$372d9dcfc71c4a48$export$970770d6d60ee0e9","exp","expenses","$372d9dcfc71c4a48$var$loadExpenses","id","localStorage","parseInt","toString","$372d9dcfc71c4a48$var$getId","$372d9dcfc71c4a48$var$saveExpenses","$372d9dcfc71c4a48$export$f82302593dfecf81","exps","JSON","stringify","data","parse","$f9ed3081497e0925$exports","undef","self","nativeSplit","String","prototype","split","compliantExecNpcg","exec","str","separator","limit","Object","call","separator2","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","RegExp","source","index","length","push","slice","replace","i","arguments","Array","apply","$1ce28f30370cf6c8$var$indexOf","indexOf","$7a7452db0db601fd$var$isTruthy","$1ce28f30370cf6c8$exports","arr","obj","$7a7452db0db601fd$exports","elem","cl","classList","add","remove","contains","toggle","token","className","item","getTokens","list","setTokens","splice","fn","ret","$7a7452db0db601fd$var$filter","join","$9a1cea9bc75e3e82$var$w","window","parcelRequire","$9a1cea9bc75e3e82$var$document","document","$9a1cea9bc75e3e82$var$Text","Text","$9a1cea9bc75e3e82$var$context","cleanupFuncs","h","args","e","l1","r","m","appendChild","createTextNode","createElement","$9a1cea9bc75e3e82$var$forEach","v","s","substring","setAttribute","$9a1cea9bc75e3e82$var$isArray","$9a1cea9bc75e3e82$var$isNode","k1","k","l","addEventListener","removeEventListener","attachEvent","detachEvent","style","cssText","s1","setProperty","val","v1","substr","parentElement","replaceChild","textContent","shift","cleanup","el","nodeName","nodeType","forEach","$df5bef30413a053b$export$643016e97ebdde69","d","getFullYear","$df5bef30413a053b$var$pad","getMonth","getDate","num","size","$9a1cea9bc75e3e82$exports","context","$ad2bcec7a0192558$var$inputs","typeToggle","getElementById","typeToggleOut","to","from","reason","amount","table","form","spentOut","receivedOut","balanceOut","$ad2bcec7a0192558$var$formState","outgoing","checked","$ad2bcec7a0192558$var$listExpenses","innerHTML","moneySpent","moneyReceived","heading","$parcel$interopDefault","keys","map","sort","a","b","date","$372d9dcfc71c4a48$export$615dd3945ece150","console","log","spent","deleteLink","row","$ad2bcec7a0192558$var$allowSend","disabled","event","preventDefault","me","receiver","parseFloat"],"version":3,"file":"index.f4842764.js.map"}